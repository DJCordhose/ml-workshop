<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>OOP Intro ML</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

          <link rel="stylesheet" href="reveal.js/css/reveal.css">
          <!--<link rel="stylesheet" href="reveal.js/css/theme/white.css" id="theme">-->
          <!--<link rel="stylesheet" href="reveal.js/css/theme/black.css" id="theme">-->
          <!--<link rel="stylesheet" href="reveal.js/css/theme/night.css" id="theme">-->
          <!--<link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">-->
          <link rel="stylesheet" href="reveal.js/css/theme/solarized.css" id="theme">
      
          <!-- Code syntax highlighting -->
          <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">
          <style>
              /*pre code {*/
                  /*display: block;*/
                  /*padding: 0.5em;*/
                  /*background: #FFFFFF !important;*/
                  /*color: #000000 !important;*/
              /*}*/
      
              .right-img {
                  margin-left: 10px !important;
                  float: right;
                  height: 500px;
              }
              .todo:before {
                  content: 'TODO: ';
              }
              .todo {
                  color: red !important;
              }
              code span.line-number {
                  color: lightcoral;
              }
              .reveal pre code {
                  max-height: 1000px !important;
              }
      
              img {
                  border: 0 !important;
                  box-shadow:0 0 0 0 !important;
              }
      
              .reveal {
                  -ms-touch-action: auto !important;
                  touch-action: auto !important;
                      }
      
                      .reveal h2,
                      .reveal h3,
                      .reveal h4 {
                        letter-spacing: 2px;
                        font-family: 'Calibri', sans-serif;
                          /* font-family: 'Times New Roman', Times, serif; */
                          font-weight: bold;
                          color: black;
                          font-style: italic;
                          letter-spacing: -2px;
                          text-transform: none !important;
                      }
      
                      .reveal em {
                          font-weight: bold;
                      }
      
                      .reveal .step-subtitle h1 {
                          letter-spacing: 1px;
                      }
                      .reveal .step-subtitle h2,
                      .reveal .step-subtitle h3 {
                          text-transform: none;
                          font-style: italic;
                          font-weight: normal;
                          /* font-weight: 400; */
                          /* font-family: 'Amiri', serif; */
                          font-family: 'Lobster', serif;
                          letter-spacing: 1px;
                          color: #2aa198;
                          text-decoration: underline;
                      }
      
                      .reveal .front-page h1,
                      .reveal .front-page h2 {
                          font-family: "League Gothic";
                          font-style: normal;
                          text-transform: uppercase !important;
                          letter-spacing: 1px;
                      }
      
                      .reveal .front-page h1 {
                          font-size: 2.5em !important;
                      }
      
                      .reveal .highlight {
                          background-color: #D3337B;
                          color: white;
                      }
      
              .reveal section img {
                background: none;
              }
      
                      .reveal img.with-border {
                          border: 1px solid #586e75 !important;
                          box-shadow: 3px 3px 1px rgba(0, 0, 0, 0.15) !important;
                      }
      
                      .reveal li {
                          margin-bottom: 8px;
                      }
      
                      /* For li's that use FontAwesome icons as bullet-point */
                  .reveal ul.fa-ul li {
                      list-style-type: none;
                  }

            .reveal {
                color: black !important;
             }       

          </style>
      
    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        var printMode = window.location.search.match(/print-pdf/gi);
        link.href = printMode ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">
    <div class="slides">

 <section data-markdown class="preparation">
    <textarea data-template>
### Preparation Workshop

* print `exercise/2020-intro.pdf`

</textarea>
</section>

<section data-markdown style="font-size: xx-large">
        <textarea data-template>
### Workshop: Grundlagen von Machine Learning

_Make sure you are prepared_
1. #wifi Name: xxx, pwd: xxx
1. Open this slide deck: http://bit.ly/ml-oop-2020-intro
1. Make sure you are ready to work with Colab
   * open https://colab.research.google.com in a modern Browser (IE will not work)
   * make it run using the "Run All" command from the "Runtime" menu
   * you need to allow execution and must either have a Google login or are willing to create one
   * Go through the notebook and make yourself comfortable with Colab

_Talk to your neighbors or ask Olli for help_   
    </textarea>
    </section>

    <section data-markdown class="local">
            <textarea data-template>
<img src='img/p8vfaxqrfud31.jpg' height="600">

<small>

https://i.redd.it/p8vfaxqrfud31.jpg
</small>        
    </textarea>
        </section>

<!-- Was macht Machine Learning anders?

In dieser Hands-On-Session bekommst Du eine Einführung in die Grundlagen von Machine Learning. Wir machen dabei
Experimente auf Papier und erste Erfahrungen mit der Python-Bibliothek Scikit-learn. Du brauchst aber weder Erfahrung in
Machine Learning noch in Python oder Scikit-learn.

Maximale Teilnehmerzahl: 50

Zielpublikum: Jeder
Schwierigkeitsgrad: Anfänger
Voraussetzungen:

Bringen Sie einen eigenen Laptop mit, auf dem ein aktueller Chrome Browser installiert ist
Stellen Sie sicher, dass Sie colab.research.google.com/notebooks/welcome.ipynb in Chrome öffnen können
Lassen Sie das Notebook über den Menüpunkt "Run All" im Menü "Runtime" laufen
Falls Sie noch kein Google-Konto haben, müssen Sie dies an dieser Stelle anlegen, andernfalls loggen Sie sich in dieses ein

In diesem Workshop erforschen wir anhand eines durchgängigen Fallbeispiels den Ansatz des überwachten maschinellen
Lernens. Dabei wird klar, was diesen Ansatz von klassischer Software-Entwicklung unterscheidet und wann er sinnvoll sein
kann. Dabei lernen wir das Verfahren der Entscheidungsbäume anhand von lauffähigem Code kennen und lösen einige Aufgaben
auf Papier.
        
https://www.oop-konferenz.de/oop2020/programm/konferenzprogramm/sessiondetails/action/detail/session/mo-5-3/title/was-macht-machine-learning-anders.html

2,5 Std.
 -->
            <section>
            <h2>Was macht Machine Learning anders?</h2>
            <h1>Eine Einführung</h1>
            <h4><a href="http://zeigermann.eu">Oliver Zeigermann</a> / 
                <a href="http://twitter.com/djcordhose">@DJCordhose</a> /
                <a href="https://www.embarc.de/">Chief Visionary Officer, embarc Software Consulting GmbH</a>
            </h4>
            <p>Slides <a href="http://bit.ly/ml-oop-2020-intro">
                http://bit.ly/ml-oop-2020-intro
            </a></p>

        </section>

<section data-markdown class="local">
        <textarea data-template>
<img src='img/embarc_logo.svg' height="600">

</textarea>
</section>

<section data-markdown class="local">
    <textarea data-template>
<img src='img/ml.jpg' height="600">

</textarea>
</section>

<section data-markdown class="local">
    <textarea data-template>
<img src='img/livevideo-deep-learning-crash-course.png' height="600">

</textarea>
</section>

<section data-markdown class="local">
    <textarea data-template>
## Introduce yourself to your neighbors, please

1. What are you working on?
1. What do you already know about the topic of the course?
1. What do you want to learn / achieve?
1. Something astonishing about you

If necessary please help your neighbors to get to theses slides 
and make the first notebook run (described in first slide)

    </textarea>
</section>

<section data-markdown class="local fragments" style="font-size: x-large">
<textarea data-template>
### What is your background?

Technical
* Data Science
* Programming
* Classic Machine Learning
* Neural Networks
* What else?

Tools
* Matlab
* R
* Python
* Scikit-learn
* TensorFlow 1/2
* Pytorch
* What else?

</textarea>
</section>

<section data-markdown>
<textarea data-template>
## Now is your chance if you have a question to the other participants
</textarea>
</section>

<section data-markdown style="font-size: x-large" class="local">
    <textarea data-template>        
## Post Its

<img src='img/post-its2.jpg' height="600">

<!-- * Stick the red one to your laptop to indicate you need help (please remove after you have been helped)
* Do the same with the blue one to indicate you are done with an exercise (please remove at the beginning of each exercise) -->
</textarea>
</section>

    <section data-markdown>
            <textarea data-template>
### Our Scenario for today: Predicting Risk

* We are CTO of a highly innovative Car Insurance Company
* Different from other insurance companies we determine the rate by the actual number of accidents per customer
* _Objective: how many accidents will prospective customers have?_ 

<img src='img/pixabay/accident-151668_1280.png' height="300px">
            </textarea>
        </section>
    
        <section data-markdown>
            <textarea data-template>
    ### Three Inputs for Prediction
    
    <a href='html/calculator.html'>
    <img src='img/insurance/calculator.png' height="450">
    </a>
    <p><small>
        <a href='html/calculator.html' target="_blank">
            https://djcordhose.github.io/ml-workshop/html/calculator.html</a></small>
    </small></p>
    </textarea>
        </section>
    
    <section data-markdown>
        <textarea data-template>
## How to solve this programmatically?
            </textarea>
            </section>

<section data-markdown>
<textarea data-template>
<img src='img/classic-development.jpg'>
</textarea>
</section>
            
    <section>
        <h3>Programmer's approach: Code Rules by Hand</h3>
        <div class="fragment">
        <pre><code contenteditable data-trim class="line-numbers python">
def calculate_risk(age, speed):
    if age < 25:
        if speed > 110:
            return high  # young people, fast cars
        else:
            return medium # young people
            </code></pre>
        </div>
        <div class="fragment">
        <pre><code contenteditable class="line-numbers python">    if age > 70:
        return high # seniors</code></pre>
        </div>
        <div class="fragment">
        <pre><code contenteditable class="line-numbers python">    if speed > 145:
        return high # fast cars in general</code></pre>
        </div>
        <div class="fragment">
        <pre><code contenteditable class="line-numbers python">    # this default vastly simplifies rule set    
    return low # otherwise</code></pre>
        </div>
    </section>

<section data-markdown>
    <textarea data-template>
### How good is this?

* Is it better than guessing?
* Are all the rules correct?
* Are some missing?
* How would we even know?

</textarea>
</section>                    

<section>
    <h3>Let's check with existing data</h3>
    <img src="img/applications/all.png" height="500px" class="fragment">
</section>

<section data-markdown>
    <textarea data-template>
### How good is our Rule based approach?

Plotting the predictions as a background

<img src='img/applications/rules.png' class="fragment" height="450px">
<br>
<small class="fragment">approx. 57% predictions correct</small>
</textarea>
</section>

<section data-markdown>
    <textarea data-template>
### Baseline to understand if 57% is good

<img src="img/applications/random.png" height="450px"  class="fragment">

<small  class="fragment">only gets 33% right</small>
</textarea>
</section>

<section data-markdown>
    <textarea data-template>
### Would we be able to separate different classes by drawing a few lines ourselfes?

    </textarea>
        </section>


<section data-markdown class="workshop exercise">
    <textarea data-template>
### Paper Exercise \#1 - Understanding the Supervised Learning Approach

_team up and discuss with your neighbors_

* Manually separate areas of different customer types
* You can use any shape and
* Any number of lines

_bear in mind, you want to use this for prediction_

<a href='exercise/2020-intro.pdf'>Exercise as PDF</a>
    </textarea>
        </section>

<section data-markdown class="workshop">
<textarea data-template>
### Two Sample Solutions

<img src='img/decision-boundaries/decision-boundaries-train.jpg'>
<small>
Are they the same? What is the key difference?
</small>
</textarea>
</section>

<section class="workshop">
    <h3>Definition: Decision Boundaries</h3>
<img src="img/decision-boundaries/decision-boundaries-4.jpg">
</section>

<section data-markdown class="workshop">
<textarea data-template>
## Core Question

### Can we automate this process of drawing Decision Boundaries?
</textarea>
</section>


<section data-markdown>
<textarea data-template>
<img src='img/supervised-ml.jpg' height="650px">
</textarea>
</section>

<section data-markdown class="workshop">
    <textarea data-template>
### Step I
## Data Preparation
</textarea>
</section>

<section data-markdown class="workshop">
        <textarea data-template>
### Data is King

_collecting data might be the hardest part of the job_

* but also the most important
* no data, not good quality or quantity => no supervised machine learning
* if we have a simulator, reinforcement learning might be an option
    
    </textarea>
    </section>
    
    <section data-markdown>
        <textarea data-template>
### Data and Process are king                    

<img src='img/googleml/model-architecture-not-important.jpg'>

<small>

https://developers.google.com/machine-learning/guides/rules-of-ml/    
</small>                    
        </textarea>
    </section>



<section data-markdown class="workshop">
    <textarea data-template>
### Clean Data and Select Features

<img src='img/insurance/data.png' height="500">

</textarea>
</section>

<section data-markdown style="font-size: xx-large;">
    <textarea data-template>
### Paper Exercise \#2 - Data Cleaning and Feature Selection

_Data Cleaning_
* What errors do you find in the data? Mark on paper and describe
* How to deal with those errors?

_Feature Selection_
* Which column would you predict? Do you like its encoding?
* Which columns would you use as input for training?
* Would you use all columns? If not, why?
* Which columns have the most predictive power?

<!--
- Datendopplung Zeile 4/5 => eine löschen
- Fehlender Wert Zeile 16 => Zeile löschen oder Durchschnitt
- Spalte 'state' mit mehr als 50% fehlenden Werten
- Zeile 23 Ausreißer: Zeile löschen oder auf plausiblen Wert korrigieren 
- Zeile 24: Califorina
-->


    </textarea>
        </section>


<section data-markdown style="font-size: xx-large" class="workshop">
        <textarea data-template>
### Results: Data Cleaning und Feature Selection

_Data Cleaning_
* Typos: Califorina
* Outliers: Delete line or replace with decent value
* Doubles: Delete
* Missing Value: Delete line or replace with imputed value

_Feature Selection_
* Make sure which value to predict
* Row missing more than 50% of values: do not use
* Explore dependencies to decide what to use for training input
            </textarea>
            </section>

    <section data-markdown>
    <textarea data-template>
## Exploratory Data Analysis and Checking 

</textarea>
</section>

<section data-markdown>
    <textarea data-template>
### Pairplot
<img src='img/applications/scatter.png' height="550px">

</textarea>
</section>


    <section data-markdown>
    <textarea data-template>
### Basic Statistical Metrics 

<img src='img/insurance/df_describe.png' height="500">

</textarea>
</section>

<section data-markdown>
    <textarea data-template>
### Linear correlations

<img src='img/insurance/cm.png' height="550px">

</textarea>
</section>

<section data-markdown class="workshop exercise">
    <textarea data-template>
### Discussion

1. which feature has the most predictive power and 
1. which has the lowest?
1. which features shall we use for training?

_Is there anything else you find interesting or surprising?_


    </textarea>
        </section>


<section data-markdown class="workshop">
    <textarea data-template>
### Step II
## Training
</textarea>
</section>

<section data-markdown>
    <textarea data-template>
### Revisiting our Rule based approach

Plotting the predictions as a background

<img src='img/applications/rules.png' class="fragment" height="450px">
<br>
<small class="fragment">approx. 56% predictions correct</small>
</textarea>
</section>

<section data-markdown>
    <textarea data-template>
## Do we really have to write those rules by hand?
</textarea>
</section>

    <section data-markdown>
            <textarea data-template>
### Decision Trees can learn such rules

<img src="img/applications/tree_interp.png">
        </textarea>
        </section>
    <section>
<h3>Code in Scikit-learn</h3>

<p>Training</p>
<pre><code contenteditable data-trim class="fragment line-numbers python">
from sklearn.tree import DecisionTreeClassifier
clf = DecisionTreeClassifier()
clf.fit(X_train, y_train)
            </code></pre>
        
<p>Prediction</p>
<pre><code contenteditable data-trim class="fragment line-numbers python">
y_pred = clf.predict(input)
        </code></pre>

<small>
    <a href='https://scikit-learn.org/stable/modules/classes.html'>https://scikit-learn.org/stable/modules/classes.html</a>
    <!-- <br>
    <a href='https://colab.research.google.com/github/djcordhose/ai/blob/master/notebooks/sklearn/overview.ipynb'>
        https://colab.research.google.com/github/djcordhose/ai/blob/master/notebooks/sklearn/overview.ipynb</a> -->
</small>
        </section>
        
<!-- 
    <section data-markdown class="detail">
            <textarea data-template>
### How do they learn?

<img src="img/dt/cart.png" height="500px">

<small>

http://scikit-learn.org/stable/modules/tree.html#tree-algorithms-id3-c4-5-c5-0-and-cart
</small>
        
        
        </textarea>
        </section>
 -->
    <section>
            <h3>Decision Trees</h3>
            <div>

        <img src="img/applications/dt-test.png">
        <small>Up to 70% accuracy on unknown data</small>
        </div>
    </section>



    <!-- <section data-markdown>
        <textarea data-template>
### Working with Colab Notebooks

https://colab.research.google.com
        </textarea>
    </section> -->

<section data-markdown>
<textarea data-template>
### Hands-On
_Run your first Colab Notbook_

* In a first pass we will go through the notebook together
* Open the notebook containing the training code 
* Sign into your Google account or register a new one 
* Execute cells until the notebook tells you to stop
* Train the model and see how it would classify yourself
* Save your notebook in your Google Drive (or on Github if you want to)

<small>

Notebook: http://bit.ly/ml-dt-intro

</small>
</textarea>
</section>

<section data-markdown class="workshop">
    <textarea data-template>
### Step III
## Evaluation
</textarea>
</section>

<section data-markdown>
        <textarea data-template>
## coup de theatre
### sudden sensational turn in a play
    </textarea>
    </section>
    
<section data-markdown>
        <textarea data-template>
### Machine Learning is all about Generalization

* Learn from known data
* Make predictions on unknown data


            </textarea>
            </section>

<section data-markdown>
    <textarea data-template>
### So Supervised Machine Learning is all about the data you have not seen, yet
## How to make sure your classification works well on unseen data?

</textarea>
</section>

<section data-markdown>
    <textarea data-template>
### The trick: Split known data

<img class='fragment' src='img/insurance/generalization.jpg' height="550px">

</textarea>
</section>

<section data-markdown class="workshop exercise">
    <textarea data-template>
### Paper Exercise \#3 - How well did you generalize?

* Turn the page and redraw the lines you printed through from the first page
* Get an estimate of the misclassified samples on both diagrams
* What do you think, is this result worse?
* What would you have done differently if you had known this is all about generalization?

    </textarea>
        </section>

<section data-markdown class="workshop">
<textarea data-template>
### Remember the two sample solutions?

<img src='img/decision-boundaries/decision-boundaries-train.jpg'>
<small>
Are they the same? What is the key difference?
</small>
</textarea>
</section>

<section data-markdown class="workshop">
<textarea data-template>
### Now on test data

<img src='img/decision-boundaries/decision-boundaries-test.jpg'>
<small>
Which one is better? Why?
</small>
</textarea>
</section>

<section id='overfitting'>
        <h3>The Issue: Overfitting</h2>
    <div>
    <div style="float: left">
        <img src="img/elements/80_percent.jpg" height="200" class="fragment" data-fragment-index='1'>
        <p>
            <small><em>Training Score</em></small>
        </p>
    </div>
    <div style="float: left" class="fragment" data-fragment-index='5'>
        <img src="img/elements/down.jpg" height="200">
    </div>
    <div style="float: left" class="fragment" data-fragment-index='4'>
        <img src="img/elements/up.jpg" height="200">
    </div>
    <div style="float: left">
            <img src="img/elements/70_percent.jpg" height="225"  class="fragment" data-fragment-index='2'>
            <p>
                <small><em>Test Score</em></small>
            </p>
    </div>
    </div>
    <p style="clear: both" class="fragment" data-fragment-index='3'><em>Training and test scores clearly divert</em></p>

    </section>

<section>
<h3>A different setting: this generalizes well, but has another issue</h3>

<div style="max-width: 50%; float: left;">
    <img src='img/decision-boundaries/underfit-train.jpg' height="300">
    <small>Training Data</small>
</div>
<div style="max-width: 50%; float: right;">
    <img src='img/decision-boundaries/underfit-test.jpg' height="300">
    <small>Test Data</small>
    </div>
    
    
<p style="clear: both;" class="fragment">
    <em>
If both test and training is pretty bad, this is called <em>underfitting</em>
</em>
</p>
        </section>


    <section data-markdown>
        <textarea data-template>
### Regularization

_Process to counter overfitting_

Each ML strategy has its own means of Regularization, e.g.
* KNN: more neighbors
* Decision Trees: reduce depth, use ensembles
* NN: Dropout, Batch Normalization, Reduced Capacity, Reduced Training Time
            </textarea>
            </section>

<section data-markdown>
    <textarea data-template>
### Supervised Learning Process Flow

<img src='img/flow-train.jpg'>

</textarea>
</section>


<section data-markdown>
<textarea data-template>
### Hands-On: Colab Notebook Part II

_Regularize your Decision tree_

* Continue with your notebook from where you stopped
* Execute the rest of the notebook
* Change the maximum depth, maximum number of leaves, and minimum samples per leaf of the decision tree to fight overfitting
* What is your best depth?
* How do the decision boundaries change?
* What are your best scores? 

<small>

Notebook: http://bit.ly/ml-dt-intro

</small>
</textarea>
</section>

<section data-markdown class="workshop">
    <textarea data-template>
### Step IV
## Full Circle back to code and interpretation
</textarea>
</section>

<section data-markdown>
    <textarea data-template>
### Our tree can generate back code        
<img src='papers/iclr2020/tree.png'>
</textarea>
</section>

<section data-markdown>
    <textarea data-template>
### Code equivalent to tree

<img src='papers/iclr2020/code.png'>
</textarea>
</section>

<section data-markdown>
    <textarea data-template>
#### Decision path for age=20, speed=110

<img src='papers/iclr2020/dtreeviz-prediction-path-fancy.png' height="600">
</textarea>
</section>

<section data-markdown class="workshop exercise">
    <textarea data-template>
### Paper Exercise \#4 - Prediction of your risk class

* Find the decision path for your age and top speed of your car (or anyone else you know)
* Can you explain the path?
* Would you be ok with this as an explanation for your risk class when you are applying for an insurance?

    </textarea>
        </section>


    <section data-markdown class="fragments" style="font-size: xx-large">
        <textarea data-template>
## Thank you - Wrapping it up
### Apply Supervised Learning to classify categories or predict values

* you have sample data with labels (ground truth)
* the problem at hand is hard to specify
* solving the problem can tolerate some error or uncertainty
* there is a clear, simple input and output
* Decision Trees mimic hand written code and have a similar level of interpretability

<div></div>
<a href="http://zeigermann.eu">Oliver Zeigermann</a> / <a href="http://twitter.com/djcordhose">@DJCordhose</a>
<br>
<a href="https://www.embarc.de/">Chief Visionary Officer, embarc Software Consulting GmbH</a>
<br>
Slides:     <a href="http://bit.ly/ml-oop-2020-intro">http://bit.ly/ml-oop-2020-intro</a>
        </textarea>
        </section>
    
    </div>

</div>

<script src="reveal.js/js/reveal.js"></script>
<script src="lib/jquery-2.2.4.js"></script>

<script>
        // $('section:not([data-background])').attr('data-background', "background/white.jpg");
        $('section:not([data-background])').attr('data-background', "background/sky.jpg");
        // $('section:not([data-background])').attr('data-background', "background/pale-clouds.jpg");
        // $('section:not([data-background])').attr('data-background', "background/street.jpg");
        // $('section:not([data-background])').attr('data-background', "background/white-transparent.jpg");
    </script>
    <script>
        const isLocal = window.location.hostname.indexOf('localhost') !== -1 || 
                    window.location.hostname.indexOf('127.0.0.1') !== -1;
    
        if (isLocal && !printMode) {
        } else {
            // only applies to public version
                $('.todo').remove();
                $('.preparation').remove();
                $('.local').remove();
        }
    
        Reveal.addEventListener( 'ready', function( event ) {
            // applies to all versions
            $('code').addClass('line-numbers');
    
            $('.fragments li').addClass('fragment')
    
            // make all links open in new tab
            $('a').attr('target', '_blank')
    
            if (isLocal && !printMode) {
                // only applies to presentation version
                Reveal.configure({ controls: false });
            } else {
                // only applies to public version
                $('.fragment').removeClass('fragment');
            }
    
    
        } );
    </script>
    
<script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        width: 1100,

        transition: 'fade', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'reveal.js/lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'reveal.js/plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'reveal.js/plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'reveal.js/plugin/highlight/highlight.js', async: true, condition: function () {
                return !!document.querySelector('pre code');
            }, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'reveal.js/plugin/zoom-js/zoom.js', async: true},
            {src: 'reveal.js/plugin/notes/notes.js', async: true},
            // https://github.com/mikemiles86/reveal-line-numbers
            {src: 'lib/js/line-numbers.js'}
        ]
    });

</script>

</body>
</html>
